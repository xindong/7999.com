var aCookieDomain = ["7999.com","www.hao222.com","www.hao222.net","www.hao123.net","hao123.com","hao222.com","hao222.net","hao123.net"];
function init(){haoSubSearch("web");goSearch()};function G(id){return document.getElementById(id)};function GN(name){return document.getElementsByName(name)};function trim(s){return s.replace(/(^\s+)|(\s+$)/g,"")};function trimPun(str){return str.replace(/(\'+)|(\"+)/g,"")};Function.prototype.bind=function(){var args=[];for(var i=0,len=arguments.length;i<len;i++)args.push(arguments[i]);var __method=this,object=args[0];return function(){return __method.apply(object,args)}};Object.extend=function(des,src){for(var property in src){des[property]=src[property]}return des};var expdate=new Date();expdate.setTime(expdate.getTime()+(86400*1000*36500));var haoGX={cookieEnabled:(navigator.cookieEnabled)?true:false,isIE:navigator.userAgent.indexOf("MSIE")>0&&!window.opera,sign:1,signExe:true,errors:{0:"提示名称",1:":不能大于12个字符！",2:":的网址不能大于200个字符！",3:":的网址格式不正确,请使用http://开始！",4:"链接地址不能超过200个字符，支持JPG、GIF、BMP格式的图片！",5:"您的定制已经超出cookie的最大限制！",6:"浏览器的cookies已经被禁用！",7:":请您添加网址相对应的名称！",8:":请您添加名称相对应的网址！",9:"确认是否保存设置？",10:"确认恢复默认值吗？"},Data:{dataValue:[],dataUrl:[],bgColor:"",bgColorNum:"",fontColor:"",fontColorNum:"",state:""},arrStyleCss:["#PA A","#PL A","#TbM td.pl a","h3 a:link","h3 a:visited","#t2 a:link","#t2 a:visited",".h5 a:link",".h5 a:visited","#DE A","a:hover",".WA A","a.slv:link","a.slv:visited","a.slv:hover","a.slv:link",".redfont",".greenfont2","#FrP a",".greenfont",".greenfont1","h1","a:link","a:visited","#DE table","#DS h3",".blackfont"],maxCookie:3200,regEvent:function(regElement,regName,regFun){if(this.isIE)regElement.attachEvent(regName,regFun);else regElement.addEventListener(regName.replace(/^on/,""),regFun,false)},init:function(){var myhao123=G("myhao123");this.regEvent(myhao123,"onclick",this.openGX.bind(this));this.regEvent(window,"onload",this.loadMyLike.bind(this));this.regEvent(window,"onload",this.getCookieData.bind(this))},byteLength:function(str){return str.replace(/[^\u0000-\u007f]/g,"\u0061\u0061").length},setCookie:function(name,value){if(this.cookieEnabled==false){alert(this.errors[6]);return false};var argv=this.setCookie.arguments;var argc=this.setCookie.arguments.length;var expires=(2<argc)?argv[2]:null;var path=(3<argc)?argv[3]:null;var domain=(4<argc)?argv[4]:null;document.cookie=name+"="+value+";expires="+expires.toGMTString()+";path="+path+";domain="+domain},getCookie:function(name){var arg=name+"=";var alen=arg.length;var clen=document.cookie.length;var i=0;while(i<clen){var j=i+alen;if(document.cookie.substring(i,j)==arg)return this.getCookieVal(j);i=document.cookie.indexOf(" ",i)+1;if(i==0)break}return null},getCookieVal:function(offset){var endstr=document.cookie.indexOf(";",offset);if(endstr==-1)endstr=document.cookie.length;return unescape(document.cookie.substring(offset,endstr))},deleteCookie:function(name,path,domain){if(this.getCookie(name)){document.cookie=name+"="+((path)?"; path="+path:"")+((domain)?"; domain="+domain:"")+"; expires=Thu, 01-Jan-70 00:00:01 GMT"}},checkForm:function(ev){var c=G("ifr").contentWindow;var inputObj=c.GN("ngxv");var inputObj2=c.GN("ngxu");var imgCheck=c.GN("radioimg");var imgObj=c.G("imggx");var imgObj2Val=trim(c.G("imggx2").value);if(imgObj2Val!=""){imgObj.value=imgObj2Val};for(var len=inputObj.length,i=0;i<len;i++){var inputValue=inputObj[i].value;var inputValue2=inputObj2[i].value;var sInputValue=trim(inputValue);var sInputValue2=trim(inputValue2);var ok1=(sInputValue=="")&&(sInputValue2==""||sInputValue2=="http://");var ok2=(sInputValue!=""&&sInputValue2!=""&&sInputValue2!="http://");var ok3=this.byteLength(sInputValue2)<=200;var ok4=this.byteLength(sInputValue)<=12;var ok5=/http:\/\/.*/i.test(sInputValue2);var ok=(ok1||(ok2&&ok3&&ok4&&ok5));if(!ok){if(!ok5){alert(this.errors[0]+(i+1)+this.errors[3]);return false};if(!ok4){alert(this.errors[0]+(i+1)+this.errors[1]);return false};if(!ok3){alert(this.errors[0]+(i+1)+this.errors[2]);return false};if(!ok1){alert(this.errors[0]+(i+1)+this.errors[7]);return false};if(!ok2){alert(this.errors[0]+(i+1)+this.errors[8]);return false};return false}};var imgok2=(this.byteLength(imgObj.value)<=200);var imgok3=(/^((http:\/\/)|([a-z]:\\)).+((\.jpg)|(\.png)|(\.gif)|(\.bmp))$/i.test(trim(imgObj.value)));var imgok=(imgok2&&imgok3);if(imgCheck[6].checked==true){if(!imgok){if(!imgok2||!imgok3){alert(this.errors[4]);return false}}else return this.getData()}else{return this.getData()}return false},imgInputBG:function(){var c=G("ifr").contentWindow;var formObj=c.document.reg;for(var i=0,len=formObj.radioimg.length;i<len;i++){if(formObj.radioimg[i].checked==true){if(formObj.radioimg[i].className=="false"){c.G("imggx").style.backgroundColor='#cccccc';c.G("imggx").disabled=true;c.G("imggx2").disabled=true}else{c.G("imggx").style.backgroundColor='#ffffff';c.G("imggx").disabled=false;c.G("imggx2").disabled=false}}}},openGX:function(){var ifr=G("ifr");if(ifr.src!="templ.htm")ifr.src="templ.htm";var divObj=G("showDiv");var divObj2=G("showDiv2");divObj.style.display="";divObj2.style.display="";divObj.style.height="735px";divObj.style.left=(document.body.offsetWidth-800)/2+'px';if(this.isIE){divObj.style.top=((document.body.offsetHeight-705)/2+300)+'px'}else{divObj.style.top=((document.body.offsetHeight-705)/2)+'px'}document.body.scrollTop=200;if(this.getCookie("HAOGX")!=null){this.setOpenWin()}return false},iframeOnload:function(){var c=G("ifr").contentWindow;var formObj=c.document.reg;var closeDiv=c.G("closediv");var closeDiv2=c.G("closediv2");var renew=c.G("renew");var re_set=c.G("re_set");this.regEvent(formObj,"onsubmit",this.checkForm.bind(this));this.regEvent(re_set,"onclick",this.reSet.bind(this));this.regEvent(closeDiv,"onclick",this.closeGXDiv.bind(this));this.regEvent(closeDiv2,"onclick",this.closeGXDiv.bind(this));this.regEvent(renew,"onclick",this.setOpenWin.bind(this));for(var i=0,len=formObj.radioimg.length;i<len;i++){this.regEvent(formObj.radioimg[i],"onclick",this.imgInputBG.bind(this))}},closeGX:function(){var c=G("ifr").contentWindow;var formObj=c.document.reg;var divObj=G("showDiv");var divObj2=G("showDiv2");formObj.reset();this.imgInputBG();divObj.style.display="none";divObj2.style.display="none";location.reload(true)},closeGXDiv:function(){var divObj=G("showDiv");var divObj2=G("showDiv2");divObj.style.display="none";divObj2.style.display="none"},getData:function(){var c=G("ifr").contentWindow;var formObj=c.document.reg;var inputObj=c.GN("ngxv");var inputObj2=c.GN("ngxu");var radioImg=formObj.radioimg;var radioFont=formObj.radiofont;var radioImgValue="",radioFontValue="";formObj.radioimg[6].value=c.G("imggx").value;for(var j=0,len=inputObj.length;j<len;j++){if(inputObj[j].value==""&&inputObj2[j].value=="http://"){this.Data.dataValue[j]="null";this.Data.dataUrl[j]="http://"}else{this.Data.dataValue[j]=trimPun(trim(inputObj[j].value));this.Data.dataUrl[j]=trimPun(trim(inputObj2[j].value))}};if(c.G("imggx").value!="http://"&&c.G("imggx").disabled==false){if(/^[a-z]:\\.+/i.test(c.G("imggx2").value)||/^[a-z]:\\.+/i.test(c.G("imggx").value)){if(trim(c.G("imggx2").value)!="")c.G("imggx").value=c.G("imggx2").value;this.Data.bgColor="file:///"+trim(c.G("imggx").value.replace(/\\/g,"\\\\"));this.Data.bgColorNum="6"}else{this.Data.bgColor=trim(c.G("imggx").value);this.Data.bgColorNum="6"}}else{for(var i=0,len=radioImg.length;i<len-1;i++){if(radioImg[i].checked==true){this.Data.bgColor=radioImg[i].value;this.Data.bgColorNum=i}}}for(var i=0,len=radioFont.length;i<len;i++){if(radioFont[i].checked==true){this.Data.fontColor=trimPun(trim(radioFont[i].value));this.Data.fontColorNum=i}}this.putCookieData(this.Data)},putCookieData:function(json){switch(this.sign){case 1:var con=confirm(this.errors[9]);if(con==false)return false;break;case 2:var con=confirm(this.errors[10]);if(con==false){this.signExe=false;return false}break}var dataValue=[],dataUrl=[],dataValueNum=0,dataUrlNum=0;for(var i in json.dataValue){dataValue[dataValueNum++]="'"+json.dataValue[i]+"'"}for(var j in json.dataUrl){dataUrl[dataUrlNum++]="'"+json.dataUrl[j]+"'"}var strJson=[];strJson.push("{dataValue:[");strJson.push(dataValue.join(","));strJson.push("],dataUrl:[");strJson.push(dataUrl.join(","));strJson.push("],bgColor:'");strJson.push(json.bgColor);strJson.push("',bgColorNum:");strJson.push(json.bgColorNum);strJson.push(",fontColor:'");strJson.push(json.fontColor);strJson.push("',fontColorNum:");strJson.push(json.fontColorNum+"}");var strCreateJson=strJson.join("");var domainArr=["7999.com","www.hao222.com","www.hao222.net","www.hao123.net","hao123.com","hao222.com","hao222.net","hao123.net"];if(this.byteLength(escape(this.getCookieVal("HAOGX")))<=this.maxCookie){for(var n=0,len=domainArr.length;n<len;n++){this.setCookie("HAOGX",escape(strCreateJson),expdate,"/",domainArr[n])}}else{alert(this.errors[5]);return false}this.closeGX()},getCookieData:function(){if(this.getCookie("HAOGX")!=null){var Obj=eval('('+this.getCookie("HAOGX")+')');Object.extend(this.Data,Obj);return this.Data}else{return false}},setOpenWin:function(){if(this.getCookie("HAOGX")==null)return false;var json=this.getCookieData();var len=json.dataValue.length;setTimeout(function(){var c=G("ifr").contentWindow;var inputObj=c.GN("ngxv");var inputObj2=c.GN("ngxu");var imgObj=c.GN("radioimg");var fontObj=c.GN("radiofont");var imgValue=c.G("imggx");var imgValue2=c.G("imggx2");for(var i=0;i<len;i++){if(json.dataValue[i]=="null"){inputObj[i].value=""}else{inputObj[i].value=json.dataValue[i]}inputObj2[i].value=json.dataUrl[i]}imgObj[json.bgColorNum].checked=true;if(json.bgColorNum=="6"){imgValue.style.backgroundColor='#ffffff';imgValue.disabled=false;imgValue2.disabled=false;imgValue.value=json.bgColor.replace("file:///","");};fontObj[json.fontColorNum].checked=true},200)},reSet:function(json){var c=G("ifr").contentWindow;var formObj=c.document.reg;formObj.reset();c.G("imggx").style.backgroundColor='#cccccc';c.G("imggx").disabled=true;this.sign=2;this.checkForm();if(this.signExe==false)return false;for(var i =0;i<aCookieDomain.length;i++){this.deleteCookie("HAOSTOCK","/",aCookieDomain[i]);this.deleteCookie("HAOLOTTERY","/",aCookieDomain[i]);};this.closeGX()},loadMyLike:function(json){if(this.getCookie("HAOGX")==null)return false;var json=this.getCookieData();var mylike=G("mylike");var mylikeStr="<b><a id=mylikeopen href=javascript:void(0) onclick=\"haoGX.openGX();event.returnValue=false;return false;\"> 我喜欢的网站：</a></b>",mylikeHref="";for(var i=0,len=json.dataValue.length;i<len;i++){if(json.dataValue[i]!="null"&&json.dataUrl[i]!="http://")mylikeHref+="<a href="+json.dataUrl[i]+" target=_blank>"+json.dataValue[i]+"</a>&nbsp;&nbsp;&nbsp;"}if(json.bgColorNum!=0){var noBG="background:transparent;";setStyle("body","BACKGROUND: url("+json.bgColor+")  fixed no-repeat center;SCROLLBAR-FACE-COLOR: #fcfff7;");setStyle("#FrP","background-color:#FFF;filter: alpha(opacity=85);opacity:0.8;z-index:65530");setStyle(".bgc","background-color:#fcfff7;filter: alpha(opacity=85);opacity:0.8;z-index:65530");setStyle(".h5","background-color:#F7F8E8;filter: alpha(opacity=65);opacity:0.8;z-index:65530");setStyle("#DE",noBG);setStyle(".rb",noBG);setStyle(".ry",noBG);setStyle("#PL",noBG)}if(mylikeHref!=""){mylike.innerHTML=mylikeStr+mylikeHref;mylike.style.display=""}else{mylike.style.display="none"}if(json.fontColorNum!=0){for(var i=0,len=this.arrStyleCss.length;i<len;i++){setStyle(this.arrStyleCss[i],"color:"+json.fontColor)}}}};haoGX.init();
